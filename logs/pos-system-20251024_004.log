2025-10-24 20:38:02.810 +03:00 [INF] [] Starting POS System API... {"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:38:03.686 +03:00 [WRN] [Microsoft.EntityFrameworkCore.Model.Validation] The property 'ShopInventory.Batches' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly. {"EventId":{"Id":10620,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.CollectionWithoutComparer"},"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:38:03.690 +03:00 [WRN] [Microsoft.EntityFrameworkCore.Model.Validation] The property 'ShopUser.Permissions' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly. {"EventId":{"Id":10620,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.CollectionWithoutComparer"},"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:38:03.729 +03:00 [WRN] [Microsoft.EntityFrameworkCore.Model.Validation] The 'bool' property 'IsActive' on entity type 'User' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead, so that the default will only be used for inserts when the property value is 'null'. {"EventId":{"Id":20601,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.BoolWithDefaultWarning"},"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:38:03.731 +03:00 [WRN] [Microsoft.EntityFrameworkCore.Model.Validation] The 'bool' property 'IsActive' on entity type 'ShopUser' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead, so that the default will only be used for inserts when the property value is 'null'. {"EventId":{"Id":20601,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.BoolWithDefaultWarning"},"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:38:05.035 +03:00 [INF] [] POS System API started successfully {"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:38:05.074 +03:00 [FTL] [] Application terminated unexpectedly {"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
System.IO.IOException: Failed to bind to address http://127.0.0.1:5135: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass30_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IEnumerable`1 listenOptions, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at Microsoft.AspNetCore.Builder.WebApplication.Run(String url)
   at Program.<Main>$(String[] args) in C:\Users\pc\Documents\My Projects\pos_system_api\Program.cs:line 117
2025-10-24 20:38:05.097 +03:00 [INF] [] Shutting down POS System API... {"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:39:06.998 +03:00 [INF] [] Starting POS System API... {"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:39:07.805 +03:00 [WRN] [Microsoft.EntityFrameworkCore.Model.Validation] The property 'ShopInventory.Batches' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly. {"EventId":{"Id":10620,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.CollectionWithoutComparer"},"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:39:07.809 +03:00 [WRN] [Microsoft.EntityFrameworkCore.Model.Validation] The property 'ShopUser.Permissions' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly. {"EventId":{"Id":10620,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.CollectionWithoutComparer"},"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:39:07.846 +03:00 [WRN] [Microsoft.EntityFrameworkCore.Model.Validation] The 'bool' property 'IsActive' on entity type 'User' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead, so that the default will only be used for inserts when the property value is 'null'. {"EventId":{"Id":20601,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.BoolWithDefaultWarning"},"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:39:07.849 +03:00 [WRN] [Microsoft.EntityFrameworkCore.Model.Validation] The 'bool' property 'IsActive' on entity type 'ShopUser' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead, so that the default will only be used for inserts when the property value is 'null'. {"EventId":{"Id":20601,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.BoolWithDefaultWarning"},"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:39:09.168 +03:00 [INF] [] POS System API started successfully {"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:39:13.035 +03:00 [INF] [pos_system_api.API.Middleware.RequestResponseLoggingMiddleware] HTTP POST /api/inventory/shops/SHOP-764C0CB3/stock started {"RequestId":"0HNGJ4GVFRKA4:00000002","ConnectionId":"0HNGJ4GVFRKA4","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:39:13.926 +03:00 [ERR] [Microsoft.EntityFrameworkCore.Database.Command] Failed executing DbCommand (128ms) [Parameters=[@p0='?', @p1='?' (DbType = Object), @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32), @p9='?', @p10='?', @p11='?' (DbType = Int32), @p12='?', @p13='?' (DbType = Decimal), @p14='?', @p15='?' (DbType = Decimal), @p16='?' (DbType = DateTime), @p17='?' (DbType = Decimal), @p18='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ShopInventory" ("Id", "Batches", "CreatedAt", "CreatedBy", "DrugId", "IsAvailable", "LastRestockDate", "LastUpdated", "ReorderPoint", "ShopId", "StorageLocation", "TotalStock", "UpdatedBy", "Pricing_CostPrice", "Pricing_Currency", "Pricing_Discount", "Pricing_LastPriceUpdate", "Pricing_SellingPrice", "Pricing_TaxRate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18); {"EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"ActionId":"685df9fd-ab97-4b51-8717-ba8ce1fa3d4f","ActionName":"pos_system_api.API.Controllers.InventoryController.AddStock (pos_system_api)","RequestId":"0HNGJ4GVFRKA4:00000002","RequestPath":"/api/inventory/shops/SHOP-764C0CB3/stock","ConnectionId":"0HNGJ4GVFRKA4","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","RequestQuery":"","RequestMethod":"POST","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:39:14.040 +03:00 [ERR] [Microsoft.EntityFrameworkCore.Update] An exception occurred in the database while saving changes for context type 'pos_system_api.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "ShopInventory" violates foreign key constraint "FK_ShopInventory_Drugs_DrugId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|223_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "ShopInventory" violates foreign key constraint "FK_ShopInventory_Drugs_DrugId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ShopInventory
    ConstraintName: FK_ShopInventory_Drugs_DrugId
    File: ri_triggers.c
    Line: 2599
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken) {"EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"ActionId":"685df9fd-ab97-4b51-8717-ba8ce1fa3d4f","ActionName":"pos_system_api.API.Controllers.InventoryController.AddStock (pos_system_api)","RequestId":"0HNGJ4GVFRKA4:00000002","RequestPath":"/api/inventory/shops/SHOP-764C0CB3/stock","ConnectionId":"0HNGJ4GVFRKA4","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","RequestQuery":"","RequestMethod":"POST","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "ShopInventory" violates foreign key constraint "FK_ShopInventory_Drugs_DrugId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|223_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "ShopInventory" violates foreign key constraint "FK_ShopInventory_Drugs_DrugId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ShopInventory
    ConstraintName: FK_ShopInventory_Drugs_DrugId
    File: ri_triggers.c
    Line: 2599
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-10-24 20:39:14.088 +03:00 [INF] [Serilog.AspNetCore.RequestLoggingMiddleware] HTTP POST /api/inventory/shops/SHOP-764C0CB3/stock responded 400 in 1046.5260ms {"RequestHost":"localhost:5135","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestQuery":"","RequestId":"0HNGJ4GVFRKA4:00000002","ConnectionId":"0HNGJ4GVFRKA4","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:39:14.091 +03:00 [WRN] [pos_system_api.API.Middleware.RequestResponseLoggingMiddleware] HTTP POST /api/inventory/shops/SHOP-764C0CB3/stock responded 400 in 1061ms {"RequestId":"0HNGJ4GVFRKA4:00000002","ConnectionId":"0HNGJ4GVFRKA4","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:40:39.671 +03:00 [INF] [pos_system_api.API.Middleware.RequestResponseLoggingMiddleware] HTTP POST /api/inventory/shops/SHOP-764C0CB3/stock started {"RequestId":"0HNGJ4GVFRKA4:00000003","ConnectionId":"0HNGJ4GVFRKA4","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:40:40.029 +03:00 [ERR] [Microsoft.EntityFrameworkCore.Database.Command] Failed executing DbCommand (75ms) [Parameters=[@p0='?', @p1='?' (DbType = Object), @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32), @p9='?', @p10='?', @p11='?' (DbType = Int32), @p12='?', @p13='?' (DbType = Decimal), @p14='?', @p15='?' (DbType = Decimal), @p16='?' (DbType = DateTime), @p17='?' (DbType = Decimal), @p18='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ShopInventory" ("Id", "Batches", "CreatedAt", "CreatedBy", "DrugId", "IsAvailable", "LastRestockDate", "LastUpdated", "ReorderPoint", "ShopId", "StorageLocation", "TotalStock", "UpdatedBy", "Pricing_CostPrice", "Pricing_Currency", "Pricing_Discount", "Pricing_LastPriceUpdate", "Pricing_SellingPrice", "Pricing_TaxRate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18); {"EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"ActionId":"685df9fd-ab97-4b51-8717-ba8ce1fa3d4f","ActionName":"pos_system_api.API.Controllers.InventoryController.AddStock (pos_system_api)","RequestId":"0HNGJ4GVFRKA4:00000003","RequestPath":"/api/inventory/shops/SHOP-764C0CB3/stock","ConnectionId":"0HNGJ4GVFRKA4","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","RequestQuery":"","RequestMethod":"POST","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:40:40.110 +03:00 [ERR] [Microsoft.EntityFrameworkCore.Update] An exception occurred in the database while saving changes for context type 'pos_system_api.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "ShopInventory" violates foreign key constraint "FK_ShopInventory_Drugs_DrugId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|223_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "ShopInventory" violates foreign key constraint "FK_ShopInventory_Drugs_DrugId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ShopInventory
    ConstraintName: FK_ShopInventory_Drugs_DrugId
    File: ri_triggers.c
    Line: 2599
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken) {"EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"ActionId":"685df9fd-ab97-4b51-8717-ba8ce1fa3d4f","ActionName":"pos_system_api.API.Controllers.InventoryController.AddStock (pos_system_api)","RequestId":"0HNGJ4GVFRKA4:00000003","RequestPath":"/api/inventory/shops/SHOP-764C0CB3/stock","ConnectionId":"0HNGJ4GVFRKA4","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","RequestQuery":"","RequestMethod":"POST","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "ShopInventory" violates foreign key constraint "FK_ShopInventory_Drugs_DrugId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|223_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "ShopInventory" violates foreign key constraint "FK_ShopInventory_Drugs_DrugId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ShopInventory
    ConstraintName: FK_ShopInventory_Drugs_DrugId
    File: ri_triggers.c
    Line: 2599
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-10-24 20:40:40.121 +03:00 [INF] [Serilog.AspNetCore.RequestLoggingMiddleware] HTTP POST /api/inventory/shops/SHOP-764C0CB3/stock responded 400 in 448.3414ms {"RequestHost":"localhost:5135","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestQuery":"","RequestId":"0HNGJ4GVFRKA4:00000003","ConnectionId":"0HNGJ4GVFRKA4","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:40:40.125 +03:00 [WRN] [pos_system_api.API.Middleware.RequestResponseLoggingMiddleware] HTTP POST /api/inventory/shops/SHOP-764C0CB3/stock responded 400 in 454ms {"RequestId":"0HNGJ4GVFRKA4:00000003","ConnectionId":"0HNGJ4GVFRKA4","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:41:36.838 +03:00 [INF] [pos_system_api.API.Middleware.RequestResponseLoggingMiddleware] HTTP GET /api/inventory/shops/SHOP-91724F16?page=1&limit=20 started {"RequestId":"0HNGJ4GVFRKA4:00000004","ConnectionId":"0HNGJ4GVFRKA4","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:41:37.057 +03:00 [INF] [Serilog.AspNetCore.RequestLoggingMiddleware] HTTP GET /api/inventory/shops/SHOP-91724F16 responded 200 in 216.2339ms {"RequestHost":"localhost:5135","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestQuery":"?page=1&limit=20","RequestId":"0HNGJ4GVFRKA4:00000004","ConnectionId":"0HNGJ4GVFRKA4","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:41:37.061 +03:00 [INF] [pos_system_api.API.Middleware.RequestResponseLoggingMiddleware] HTTP GET /api/inventory/shops/SHOP-91724F16?page=1&limit=20 responded 200 in 222ms {"RequestId":"0HNGJ4GVFRKA4:00000004","ConnectionId":"0HNGJ4GVFRKA4","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:48:57.714 +03:00 [INF] [pos_system_api.API.Middleware.RequestResponseLoggingMiddleware] HTTP GET /api/inventory/shops/SHOP-91724F16/pos-items?page=1&limit=50 started {"RequestId":"0HNGJ4GVFRKA5:00000002","ConnectionId":"0HNGJ4GVFRKA5","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:48:57.722 +03:00 [INF] [Serilog.AspNetCore.RequestLoggingMiddleware] HTTP GET /api/inventory/shops/SHOP-91724F16/pos-items responded 401 in 4.2229ms {"RequestHost":"localhost:5135","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestQuery":"?page=1&limit=50","RequestId":"0HNGJ4GVFRKA5:00000002","ConnectionId":"0HNGJ4GVFRKA5","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:48:57.725 +03:00 [WRN] [pos_system_api.API.Middleware.RequestResponseLoggingMiddleware] HTTP GET /api/inventory/shops/SHOP-91724F16/pos-items?page=1&limit=50 responded 401 in 10ms {"RequestId":"0HNGJ4GVFRKA5:00000002","ConnectionId":"0HNGJ4GVFRKA5","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:48:59.188 +03:00 [INF] [pos_system_api.API.Middleware.RequestResponseLoggingMiddleware] HTTP GET /api/inventory/shops/SHOP-91724F16/pos-items?page=1&limit=50 started {"RequestId":"0HNGJ4GVFRKA5:00000003","ConnectionId":"0HNGJ4GVFRKA5","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:48:59.190 +03:00 [INF] [Serilog.AspNetCore.RequestLoggingMiddleware] HTTP GET /api/inventory/shops/SHOP-91724F16/pos-items responded 401 in 0.3248ms {"RequestHost":"localhost:5135","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestQuery":"?page=1&limit=50","RequestId":"0HNGJ4GVFRKA5:00000003","ConnectionId":"0HNGJ4GVFRKA5","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:48:59.194 +03:00 [WRN] [pos_system_api.API.Middleware.RequestResponseLoggingMiddleware] HTTP GET /api/inventory/shops/SHOP-91724F16/pos-items?page=1&limit=50 responded 401 in 5ms {"RequestId":"0HNGJ4GVFRKA5:00000003","ConnectionId":"0HNGJ4GVFRKA5","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:49:09.102 +03:00 [INF] [pos_system_api.API.Middleware.RequestResponseLoggingMiddleware] HTTP POST /api/Admin/seed started {"RequestId":"0HNGJ4GVFRKA5:00000004","ConnectionId":"0HNGJ4GVFRKA5","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:49:09.106 +03:00 [INF] [Serilog.AspNetCore.RequestLoggingMiddleware] HTTP POST /api/Admin/seed responded 401 in 1.7304ms {"RequestHost":"localhost:5135","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestQuery":"","RequestId":"0HNGJ4GVFRKA5:00000004","ConnectionId":"0HNGJ4GVFRKA5","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:49:09.110 +03:00 [WRN] [pos_system_api.API.Middleware.RequestResponseLoggingMiddleware] HTTP POST /api/Admin/seed responded 401 in 8ms {"RequestId":"0HNGJ4GVFRKA5:00000004","ConnectionId":"0HNGJ4GVFRKA5","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:49:20.373 +03:00 [INF] [pos_system_api.API.Middleware.RequestResponseLoggingMiddleware] HTTP POST /api/Auth/login started {"RequestId":"0HNGJ4GVFRKA5:00000005","ConnectionId":"0HNGJ4GVFRKA5","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:49:21.556 +03:00 [INF] [pos_system_api.API.Controllers.AuthController] User halgurd logged in successfully {"ActionId":"3552f38f-6b74-4301-995b-65fa1cd8d02e","ActionName":"pos_system_api.API.Controllers.AuthController.Login (pos_system_api)","RequestId":"0HNGJ4GVFRKA5:00000005","RequestPath":"/api/Auth/login","ConnectionId":"0HNGJ4GVFRKA5","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","RequestQuery":"","RequestMethod":"POST","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:49:21.564 +03:00 [INF] [Serilog.AspNetCore.RequestLoggingMiddleware] HTTP POST /api/Auth/login responded 200 in 1187.2464ms {"RequestHost":"localhost:5135","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestQuery":"","RequestId":"0HNGJ4GVFRKA5:00000005","ConnectionId":"0HNGJ4GVFRKA5","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:49:21.567 +03:00 [INF] [pos_system_api.API.Middleware.RequestResponseLoggingMiddleware] HTTP POST /api/Auth/login responded 200 in 1193ms {"RequestId":"0HNGJ4GVFRKA5:00000005","ConnectionId":"0HNGJ4GVFRKA5","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:49:45.120 +03:00 [INF] [pos_system_api.API.Middleware.RequestResponseLoggingMiddleware] HTTP GET /api/Suppliers?page=1&limit=20&isActive=true started {"RequestId":"0HNGJ4GVFRKA5:00000006","ConnectionId":"0HNGJ4GVFRKA5","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:49:45.344 +03:00 [INF] [Serilog.AspNetCore.RequestLoggingMiddleware] HTTP GET /api/Suppliers responded 200 in 220.6863ms {"RequestHost":"localhost:5135","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","UserName":"halgurd","UserId":"603b60a5-211a-49ba-8a59-2326480f5790","RemoteIpAddress":"::1","RequestQuery":"?page=1&limit=20&isActive=true","RequestId":"0HNGJ4GVFRKA5:00000006","ConnectionId":"0HNGJ4GVFRKA5","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:49:45.347 +03:00 [INF] [pos_system_api.API.Middleware.RequestResponseLoggingMiddleware] HTTP GET /api/Suppliers?page=1&limit=20&isActive=true responded 200 in 227ms {"RequestId":"0HNGJ4GVFRKA5:00000006","ConnectionId":"0HNGJ4GVFRKA5","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:50:02.277 +03:00 [INF] [pos_system_api.API.Middleware.RequestResponseLoggingMiddleware] HTTP GET /api/inventory/shops/SHOP-91724F16/pos-items?page=1&limit=50 started {"RequestId":"0HNGJ4GVFRKA5:00000007","ConnectionId":"0HNGJ4GVFRKA5","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:50:02.283 +03:00 [INF] [Serilog.AspNetCore.RequestLoggingMiddleware] HTTP GET /api/inventory/shops/SHOP-91724F16/pos-items responded 403 in 1.4915ms {"RequestHost":"localhost:5135","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","UserName":"halgurd","UserId":"603b60a5-211a-49ba-8a59-2326480f5790","RemoteIpAddress":"::1","RequestQuery":"?page=1&limit=50","RequestId":"0HNGJ4GVFRKA5:00000007","ConnectionId":"0HNGJ4GVFRKA5","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:50:02.287 +03:00 [WRN] [pos_system_api.API.Middleware.RequestResponseLoggingMiddleware] HTTP GET /api/inventory/shops/SHOP-91724F16/pos-items?page=1&limit=50 responded 403 in 10ms {"RequestId":"0HNGJ4GVFRKA5:00000007","ConnectionId":"0HNGJ4GVFRKA5","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:51:20.167 +03:00 [INF] [pos_system_api.API.Middleware.RequestResponseLoggingMiddleware] HTTP GET /api/inventory/shops/SHOP-764C0CB3/pos-items?page=1&limit=50 started {"RequestId":"0HNGJ4GVFRKA5:00000008","ConnectionId":"0HNGJ4GVFRKA5","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:51:20.486 +03:00 [INF] [Serilog.AspNetCore.RequestLoggingMiddleware] HTTP GET /api/inventory/shops/SHOP-764C0CB3/pos-items responded 200 in 315.8383ms {"RequestHost":"localhost:5135","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","UserName":"halgurd","UserId":"603b60a5-211a-49ba-8a59-2326480f5790","RemoteIpAddress":"::1","RequestQuery":"?page=1&limit=50","RequestId":"0HNGJ4GVFRKA5:00000008","ConnectionId":"0HNGJ4GVFRKA5","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:51:20.489 +03:00 [INF] [pos_system_api.API.Middleware.RequestResponseLoggingMiddleware] HTTP GET /api/inventory/shops/SHOP-764C0CB3/pos-items?page=1&limit=50 responded 200 in 322ms {"RequestId":"0HNGJ4GVFRKA5:00000008","ConnectionId":"0HNGJ4GVFRKA5","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:52:16.736 +03:00 [INF] [pos_system_api.API.Middleware.RequestResponseLoggingMiddleware] HTTP POST /api/inventory/shops/SHOP-764C0CB3/stock started {"RequestId":"0HNGJ4GVFRKA5:00000009","ConnectionId":"0HNGJ4GVFRKA5","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:52:17.039 +03:00 [ERR] [Microsoft.EntityFrameworkCore.Database.Command] Failed executing DbCommand (73ms) [Parameters=[@p0='?', @p1='?' (DbType = Object), @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32), @p9='?', @p10='?', @p11='?' (DbType = Int32), @p12='?', @p13='?' (DbType = Decimal), @p14='?', @p15='?' (DbType = Decimal), @p16='?' (DbType = DateTime), @p17='?' (DbType = Decimal), @p18='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ShopInventory" ("Id", "Batches", "CreatedAt", "CreatedBy", "DrugId", "IsAvailable", "LastRestockDate", "LastUpdated", "ReorderPoint", "ShopId", "StorageLocation", "TotalStock", "UpdatedBy", "Pricing_CostPrice", "Pricing_Currency", "Pricing_Discount", "Pricing_LastPriceUpdate", "Pricing_SellingPrice", "Pricing_TaxRate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18); {"EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"ActionId":"685df9fd-ab97-4b51-8717-ba8ce1fa3d4f","ActionName":"pos_system_api.API.Controllers.InventoryController.AddStock (pos_system_api)","RequestId":"0HNGJ4GVFRKA5:00000009","RequestPath":"/api/inventory/shops/SHOP-764C0CB3/stock","ConnectionId":"0HNGJ4GVFRKA5","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","RequestQuery":"","RequestMethod":"POST","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:52:17.123 +03:00 [ERR] [Microsoft.EntityFrameworkCore.Update] An exception occurred in the database while saving changes for context type 'pos_system_api.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "ShopInventory" violates foreign key constraint "FK_ShopInventory_Drugs_DrugId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|223_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "ShopInventory" violates foreign key constraint "FK_ShopInventory_Drugs_DrugId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ShopInventory
    ConstraintName: FK_ShopInventory_Drugs_DrugId
    File: ri_triggers.c
    Line: 2599
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken) {"EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"ActionId":"685df9fd-ab97-4b51-8717-ba8ce1fa3d4f","ActionName":"pos_system_api.API.Controllers.InventoryController.AddStock (pos_system_api)","RequestId":"0HNGJ4GVFRKA5:00000009","RequestPath":"/api/inventory/shops/SHOP-764C0CB3/stock","ConnectionId":"0HNGJ4GVFRKA5","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","RequestQuery":"","RequestMethod":"POST","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "ShopInventory" violates foreign key constraint "FK_ShopInventory_Drugs_DrugId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|223_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "ShopInventory" violates foreign key constraint "FK_ShopInventory_Drugs_DrugId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ShopInventory
    ConstraintName: FK_ShopInventory_Drugs_DrugId
    File: ri_triggers.c
    Line: 2599
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-10-24 20:52:17.134 +03:00 [INF] [Serilog.AspNetCore.RequestLoggingMiddleware] HTTP POST /api/inventory/shops/SHOP-764C0CB3/stock responded 400 in 394.9415ms {"RequestHost":"localhost:5135","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","UserName":"halgurd","UserId":"603b60a5-211a-49ba-8a59-2326480f5790","RemoteIpAddress":"::1","RequestQuery":"","RequestId":"0HNGJ4GVFRKA5:00000009","ConnectionId":"0HNGJ4GVFRKA5","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:52:17.138 +03:00 [WRN] [pos_system_api.API.Middleware.RequestResponseLoggingMiddleware] HTTP POST /api/inventory/shops/SHOP-764C0CB3/stock responded 400 in 401ms {"RequestId":"0HNGJ4GVFRKA5:00000009","ConnectionId":"0HNGJ4GVFRKA5","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:54:17.804 +03:00 [INF] [pos_system_api.API.Middleware.RequestResponseLoggingMiddleware] HTTP GET /api/inventory/shops/SHOP-764C0CB3/pos-items?page=1&limit=50 started {"RequestId":"0HNGJ4GVFRKA5:0000000A","ConnectionId":"0HNGJ4GVFRKA5","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:54:18.108 +03:00 [INF] [Serilog.AspNetCore.RequestLoggingMiddleware] HTTP GET /api/inventory/shops/SHOP-764C0CB3/pos-items responded 200 in 300.0538ms {"RequestHost":"localhost:5135","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","UserName":"halgurd","UserId":"603b60a5-211a-49ba-8a59-2326480f5790","RemoteIpAddress":"::1","RequestQuery":"?page=1&limit=50","RequestId":"0HNGJ4GVFRKA5:0000000A","ConnectionId":"0HNGJ4GVFRKA5","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 20:54:18.111 +03:00 [INF] [pos_system_api.API.Middleware.RequestResponseLoggingMiddleware] HTTP GET /api/inventory/shops/SHOP-764C0CB3/pos-items?page=1&limit=50 responded 200 in 307ms {"RequestId":"0HNGJ4GVFRKA5:0000000A","ConnectionId":"0HNGJ4GVFRKA5","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 21:37:43.117 +03:00 [INF] [] Starting POS System API... {"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 21:37:43.269 +03:00 [FTL] [] Application terminated unexpectedly {"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
Microsoft.Extensions.Hosting.HostFactoryResolver+HostingListener+StopTheHostException: Exception of type 'Microsoft.Extensions.Hosting.HostFactoryResolver+HostingListener+StopTheHostException' was thrown.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\pc\Documents\My Projects\pos_system_api\Program.cs:line 45
2025-10-24 21:37:43.292 +03:00 [INF] [] Shutting down POS System API... {"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 21:37:53.646 +03:00 [INF] [] Starting POS System API... {"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 21:37:53.805 +03:00 [FTL] [] Application terminated unexpectedly {"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
Microsoft.Extensions.Hosting.HostFactoryResolver+HostingListener+StopTheHostException: Exception of type 'Microsoft.Extensions.Hosting.HostFactoryResolver+HostingListener+StopTheHostException' was thrown.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\pc\Documents\My Projects\pos_system_api\Program.cs:line 45
2025-10-24 21:37:53.834 +03:00 [INF] [] Shutting down POS System API... {"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 21:38:34.076 +03:00 [INF] [] Starting POS System API... {"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 21:38:34.913 +03:00 [WRN] [Microsoft.EntityFrameworkCore.Model.Validation] The property 'ShopInventory.Batches' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly. {"EventId":{"Id":10620,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.CollectionWithoutComparer"},"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 21:38:34.918 +03:00 [WRN] [Microsoft.EntityFrameworkCore.Model.Validation] The property 'ShopUser.Permissions' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly. {"EventId":{"Id":10620,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.CollectionWithoutComparer"},"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 21:38:34.956 +03:00 [WRN] [Microsoft.EntityFrameworkCore.Model.Validation] The 'bool' property 'IsActive' on entity type 'User' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead, so that the default will only be used for inserts when the property value is 'null'. {"EventId":{"Id":20601,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.BoolWithDefaultWarning"},"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 21:38:34.958 +03:00 [WRN] [Microsoft.EntityFrameworkCore.Model.Validation] The 'bool' property 'IsActive' on entity type 'Category' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead, so that the default will only be used for inserts when the property value is 'null'. {"EventId":{"Id":20601,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.BoolWithDefaultWarning"},"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 21:38:34.961 +03:00 [WRN] [Microsoft.EntityFrameworkCore.Model.Validation] The 'bool' property 'IsActive' on entity type 'ShopUser' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead, so that the default will only be used for inserts when the property value is 'null'. {"EventId":{"Id":20601,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.BoolWithDefaultWarning"},"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 21:38:36.273 +03:00 [INF] [] POS System API started successfully {"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 21:42:15.837 +03:00 [INF] [] Shutting down POS System API... {"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 21:42:44.619 +03:00 [INF] [] Starting POS System API... {"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 21:42:45.394 +03:00 [WRN] [Microsoft.EntityFrameworkCore.Model.Validation] The property 'ShopInventory.Batches' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly. {"EventId":{"Id":10620,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.CollectionWithoutComparer"},"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 21:42:45.398 +03:00 [WRN] [Microsoft.EntityFrameworkCore.Model.Validation] The property 'ShopUser.Permissions' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly. {"EventId":{"Id":10620,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.CollectionWithoutComparer"},"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 21:42:45.431 +03:00 [WRN] [Microsoft.EntityFrameworkCore.Model.Validation] The 'bool' property 'IsActive' on entity type 'User' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead, so that the default will only be used for inserts when the property value is 'null'. {"EventId":{"Id":20601,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.BoolWithDefaultWarning"},"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 21:42:45.434 +03:00 [WRN] [Microsoft.EntityFrameworkCore.Model.Validation] The 'bool' property 'IsActive' on entity type 'Category' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead, so that the default will only be used for inserts when the property value is 'null'. {"EventId":{"Id":20601,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.BoolWithDefaultWarning"},"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 21:42:45.435 +03:00 [WRN] [Microsoft.EntityFrameworkCore.Model.Validation] The 'bool' property 'IsActive' on entity type 'ShopUser' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead, so that the default will only be used for inserts when the property value is 'null'. {"EventId":{"Id":20601,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.BoolWithDefaultWarning"},"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 21:42:46.713 +03:00 [INF] [] POS System API started successfully {"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 21:46:24.347 +03:00 [INF] [pos_system_api.API.Middleware.RequestResponseLoggingMiddleware] HTTP GET /Swagger/index.html started {"RequestId":"0HNGJ5MGTC9P8:00000002","ConnectionId":"0HNGJ5MGTC9P8","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 21:46:24.461 +03:00 [INF] [Serilog.AspNetCore.RequestLoggingMiddleware] HTTP GET /Swagger/index.html responded 200 in 106.7705ms {"RequestHost":"localhost:5135","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestQuery":"","RequestId":"0HNGJ5MGTC9P8:00000002","ConnectionId":"0HNGJ5MGTC9P8","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 21:46:24.466 +03:00 [INF] [pos_system_api.API.Middleware.RequestResponseLoggingMiddleware] HTTP GET /Swagger/index.html responded 200 in 124ms {"RequestId":"0HNGJ5MGTC9P8:00000002","ConnectionId":"0HNGJ5MGTC9P8","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 21:46:24.563 +03:00 [INF] [pos_system_api.API.Middleware.RequestResponseLoggingMiddleware] HTTP GET /Swagger/index.js started {"RequestId":"0HNGJ5MGTC9P8:00000003","ConnectionId":"0HNGJ5MGTC9P8","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 21:46:24.568 +03:00 [INF] [Serilog.AspNetCore.RequestLoggingMiddleware] HTTP GET /Swagger/index.js responded 200 in 0.7316ms {"RequestHost":"localhost:5135","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestQuery":"","RequestId":"0HNGJ5MGTC9P8:00000003","ConnectionId":"0HNGJ5MGTC9P8","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 21:46:24.575 +03:00 [INF] [pos_system_api.API.Middleware.RequestResponseLoggingMiddleware] HTTP GET /Swagger/index.js responded 200 in 12ms {"RequestId":"0HNGJ5MGTC9P8:00000003","ConnectionId":"0HNGJ5MGTC9P8","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 21:46:24.929 +03:00 [INF] [pos_system_api.API.Middleware.RequestResponseLoggingMiddleware] HTTP GET /Swagger/v1/swagger.json started {"RequestId":"0HNGJ5MGTC9P8:00000004","ConnectionId":"0HNGJ5MGTC9P8","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 21:46:25.088 +03:00 [INF] [Serilog.AspNetCore.RequestLoggingMiddleware] HTTP GET /Swagger/v1/swagger.json responded 200 in 156.2498ms {"RequestHost":"localhost:5135","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestQuery":"","RequestId":"0HNGJ5MGTC9P8:00000004","ConnectionId":"0HNGJ5MGTC9P8","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 21:46:25.091 +03:00 [INF] [pos_system_api.API.Middleware.RequestResponseLoggingMiddleware] HTTP GET /Swagger/v1/swagger.json responded 200 in 162ms {"RequestId":"0HNGJ5MGTC9P8:00000004","ConnectionId":"0HNGJ5MGTC9P8","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 21:46:32.580 +03:00 [INF] [pos_system_api.API.Middleware.RequestResponseLoggingMiddleware] HTTP GET /api/Categories?activeOnly=true started {"RequestId":"0HNGJ5MGTC9P8:00000005","ConnectionId":"0HNGJ5MGTC9P8","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 21:46:32.770 +03:00 [INF] [Serilog.AspNetCore.RequestLoggingMiddleware] HTTP GET /api/Categories responded 200 in 187.3640ms {"RequestHost":"localhost:5135","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestQuery":"?activeOnly=true","RequestId":"0HNGJ5MGTC9P8:00000005","ConnectionId":"0HNGJ5MGTC9P8","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 21:46:32.773 +03:00 [INF] [pos_system_api.API.Middleware.RequestResponseLoggingMiddleware] HTTP GET /api/Categories?activeOnly=true responded 200 in 193ms {"RequestId":"0HNGJ5MGTC9P8:00000005","ConnectionId":"0HNGJ5MGTC9P8","RemoteIpAddress":"::1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
2025-10-24 23:03:51.789 +03:00 [INF] [] Shutting down POS System API... {"MachineName":"DESKTOP-CMP5LCV","EnvironmentName":"Development"}
